/***
 4.5 Text-level semantics
 https://html.spec.whatwg.org/multipage/text-level-semantics.html

 4.7 Edits
 https://html.spec.whatwg.org/multipage/edits.html
 ***/

/* Text-level semantics */

:where(a) {
	color: var(--link-fg, var(--accent));

	@nest :where(.list-of-links &) {
		text-decoration: none;
	}

	&:hover {
		text-decoration: underline;
	}

	&[href^="https://"], &[href^="//"] {
		/***
		 External link.
		 ***/
		&::after {
			content: '\2197';
			content: '\2197' / 'external';
		}
	}

	&[href^="mailto:"] {
		&::after {
			content: '\2709';
			content: '\2709' / 'mailto link';
		}
	}
}

:where(em) {
	/* TODO */
}

:where(strong) {
	/* TODO */
}

:where(small) {
	@nest span > &:only-child {
		/***
		 Sidenote
		 ***/
		display: block;
		float: right;
		clear: right;

		--sidenote-width: 20ch;

		max-width: var(--sidenote-width);
		padding-inline: 1.5ch 1ch;

		margin-inline-end: calc(1em - var(--sidenote-width));
		margin-block-end: var(--rhythm);

		background: var(--bg);

		transition: transform .1s ease-in-out;

		&:hover, &:focus-within {
			border: 1px solid var(--faded-fg);
			border-radius: .2em;
			transform: translateX(calc(
				0px - var(--sidenote-width)
				+ min(var(--gutter-width), var(--sidenote-width))
			))
		}
	}
}

:where(s) {
	/* TODO */
}

:where(cite) {
	/* TODO */
}

:where(q) {
	/* TODO */
}

:where(dfn) {
	/* TODO */
}

:where(abbr) {
	/* TODO */
}

:where(ruby) {
	/* TODO */

	& :where(rt) {
	}

	* :where(rp) {
	}
}

:where(time) {
	/* TODO */
}

:where(code) {
	/* TODO */
}

:where(var) {
	/* TODO */
}

:where(samp) {
	/* TODO */
}

:where(kbd) {
	/* TODO */
}
	:where(kbd kbd) {
		display: inline-block;

		padding: 0 .3em;
		font-size: .8em;
		line-height: 1.1em;

		background: var(--bg-3);
		border: 1px outset var(--faded-fg);
		border-block-end-width: 3px;
		border-radius: .3em;
	}

:where(sub) {
	vertical-align: bottom;
	line-height: 1;
}

:where(sup) {
	vertical-align: top;
	line-height: 1;
}

:where(i) {
	/* TODO */
}

:where(b) {
	&.lede {
		font-size: 1.2em;
		line-height: calc(1.2 * var(--rhythm));
		font-weight: normal;
	}
}

:where(u) {
	/* TODO */
}

:where(mark) {
	background: var(--warn-bg);
	color: var(--warn-fg);
}

/* Edits */

:where(ins) {
	background: var(--ok-bg);
	color: var(--ok-fg);
}

:where(del) {
	background: var(--bad-bg);
	color: var(--bad-fg);
}

